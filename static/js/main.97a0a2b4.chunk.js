(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},12:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},17:function(e,t,a){},18:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),r=a(0),o=a.n(r),i=(a(17),a(3)),s=(a(18),a(6)),l=a(5),u=a.n(l),j=(a(19),a(1));function m(e){var t=Object(r.useState)(""),a=Object(i.a)(t,2),n=a[0],c=a[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("header",{className:u.a.Searchbar,children:Object(j.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(t){t.preventDefault(),""!==n.trim()?e.onSubmit(n):s.b.error("Please, type name of image to search")},children:[Object(j.jsx)("button",{className:u.a.Button,type:"submit"}),Object(j.jsx)("input",{className:u.a.Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"name",value:n,onChange:function(e){c(e.currentTarget.value)}})]})})})}var b=a(8),f=a.n(b);function h(e){var t=e.hits;return Object(j.jsx)(j.Fragment,{children:t.map((function(t){return Object(j.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(j.jsx)("img",{className:f.a.Image,src:t.webformatURL,alt:e.name,id:t.id})},t.id)}))})}var g=a(11),O=a.n(g),d=a(12),p=a.n(d);function _(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{className:p.a.Button,type:"button",onClick:e.onClick,children:"Load more"})})}var x=a(9),S=a.n(x);function y(e){var t=Object(r.useState)(null),a=Object(i.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(1),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(r.useState)(!1),b=Object(i.a)(m,2),f=b[0],g=b[1];Object(r.useEffect)((function(){e.name&&g(!0)}),[l,e.name]),Object(r.useEffect)((function(){e.name&&fetch("https://pixabay.com/api/?key=23676314-92d729b6642f8dfd3ee72d5a9&q=".concat(e.name,"&image_type=photo&per_page=12&page=").concat(l)).then((function(e){return e.json()})).then((function(e){return c(e)})).finally((function(){return g(!1)})),e.onFetch(n)}),[n,e.name,l]),Object(r.useEffect)((function(){u(1)}),[e.name]);return Object(j.jsxs)(j.Fragment,{children:[f&&Object(j.jsx)(O.a,{className:S.a.Spinner,type:"Audio",color:"#00BFFF",height:80,width:80}),n&&Object(j.jsx)("ul",{className:S.a.ImageGallery,onClick:function(t){e.toggle(),e.onImageClick(t.target.id)},children:Object(j.jsx)(h,{hits:n.hits})}),e.name&&Object(j.jsx)(_,{onClick:function(){u(l+1)}})]})}var I=a(10),v=a.n(I),F=document.querySelector("#modal-root");function k(e){Object(r.useEffect)((function(){window.addEventListener("keydown",t)}),[]);var t=function(t){"Escape"===t.code&&(console.log("Esc"),e.toggle())},a=e.hits,c=e.id,o=a.filter((function(e){return e.id==c}));return Object(n.createPortal)(Object(j.jsx)("div",{className:v.a.Overlay,onClick:e.toggle,children:Object(j.jsx)("div",{className:v.a.Modal,children:Object(j.jsx)("img",{src:o[0].largeImageURL,alt:o[0].tags})})}),F)}function C(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(i.a)(c,2),l=o[0],u=o[1],b=Object(r.useState)(null),f=Object(i.a)(b,2),h=f[0],g=f[1],O=Object(r.useState)(null),d=Object(i.a)(O,2),p=d[0],_=d[1],x=function(){u((function(e){return!e}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{onSubmit:function(e){n(e)}}),Object(j.jsx)(y,{name:a,onFetch:function(e){g(e)},gallery:h,toggle:x,onImageClick:function(e){_(e)}}),l&&Object(j.jsx)(k,{hits:h.hits,toggle:x,id:p}),Object(j.jsx)(s.a,{autoClose:3e3})]})}c.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.querySelector("#root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",Button:"Searchbar_Button__257ni",Input:"Searchbar_Input__3SYi2"}},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",Image:"ImageGalleryItem_Image__3YXvD"}},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ",Spinner:"ImageGallery_Spinner__obVDz"}}},[[41,1,2]]]);
//# sourceMappingURL=main.97a0a2b4.chunk.js.map